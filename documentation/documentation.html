<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Documentation</title>
    <!-- Tailwind CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- style -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Karla:wght@400;600&display=swap" rel="stylesheet">
</head>

<body>
    <!-- headers -->
    <header class="text-gray-600 body-font sticky-top">
        <div class="container mx-auto flex flex-wrap p-4 flex-col md:flex-row items-center">
            <a class="flex title-font font-medium items-center text-gray-900 mb-4 md:mb-0" href="../index.html">
                <span class="ml-3 text-xl">MELODY</span>
            </a>
            <nav class="md:ml-auto flex flex-wrap items-center text-base justify-center">
                <a class="mr-5 hover:text-gray-900" href="getting_started.html">Getting Started</a>
                <a class="mr-5 hover:text-gray-900" href="user_guide.html">User Guide</a>
                <a class="mr-5 hover:text-gray-900" href="documentation.html">Documentation</a>
                <a class="mr-5 hover:text-gray-900" href="https://melody-data.github.io/stories/#catalogue">Examples</a>
            </nav>
        </div>
    </header>

    <div class="flex flex-wrap">
        <div class="container">
            <div class="row">
                <div class="col-3">
                    <!-- sidebar -->
                    <div class="flex-shrink-0 p-3 sticky-top">
                        <ul class="list-unstyled ps-0">
                            <li class="mb-1">
                                <button class="btn btn-toggle align-items-center rounded collapsed"
                                    data-bs-toggle="collapse" data-bs-target="#app-collapse" aria-expanded="false">
                                    The Flask Application
                                </button>
                                <div class="collapse show" id="app-collapse">
                                    <ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small">
                                        <li><a href="#methods" class="link-dark rounded">Configuration Methods</a></li>
                                        <li><a href="#routing" class="link-dark rounded">Routing</a></li>
                                    </ul>
                                </div>
                            </li>
                            <li class="mb-1">
                                <button class="btn btn-toggle align-items-center rounded collapsed">
                                    <a class="link-dark rounded" href="#config">The Configuration File</a>
                                </button>
                            </li>
                            <li class="mb-1">
                                <button class="btn btn-toggle align-items-center rounded collapsed">
                                    <a class="link-dark rounded" href="#ajax">Ajax HTTP Requests</a>
                                </button>
                            </li>
                        </ul>
                    </div>
                </div>
                <!-- main -->
                <div class="col-9">
                    <div class="flex flex-col w-full">
                        <h1 class="sm:text-3xl text-2xl font-medium title-font mb-4 text-gray-900">Documentation</h1>
                        <p class="mb-3">MELODY is a web-based, extensible, reusable, and user-friendly software for
                            retrieving, presenting, and publishing Linked Data in the form of Data Stories.</p>
                        <p><a href="../build/app.html" class="text-green-500">SEE METHODS</a></p>
                        <h2 id="app" class="text-lg sm:text-xl text-gray-900 font-medium title-font">The Flask
                            Application
                        </h2>
                        <p class="mb-3">MELODY is developed with the <a
                                href="https://flask.palletsprojects.com/en/2.1.x/" target="_blank"
                                class="text-green-500">Flask framework</a> and serves three main functions:
                        </p>
                        <ol class="list-group-numbered pl-3 mb-3">
                            <li>manages incoming and outgoing data from the configuration file using methods;</li>
                            <li>provides a user authentication system;</li>
                            <li>provides a web interface similar to a CMS rendered via routing.</li>
                        </ol>
                        <h3 id="methods" class="text-lg sm:text-xl text-gray-900 font-medium title-font">
                            Configuration Methods
                        </h3>
                        <p class="mb-3 ">You can check in detail each method in the dedicated <a
                                href="data_methods.html" target="_blank" class="text-green-500"><i>data_methods.py</i>
                            </a> module.</p>
                        <h3 id="methods" class="text-lg sm:text-xl text-gray-900 font-medium title-font mb-2">
                            Authentication System
                        </h3>
                        <p class="mb-3 ">You can check in detail each method in the dedicated <a href="github_sync.html"
                                target="_blank" class="text-green-500"><i>github_sync.py</i>
                            </a> module.</p>
                        <h3 id="routing" class="text-lg sm:text-xl text-gray-900 font-medium title-font">
                            Routing
                        </h3>
                        <p class="mb-3">Main routing functions are:</p>
                        <ul style="list-style: inside;" class="mb-3 pl-3">
                            <li><i>.route("/index.html")</i>: returns the homepage.
                            </li>
                            <li><i>.route("/setup", methods=['POST', 'GET'])</i>: if the HTTP method is GET, it
                                renders the setup.html page, where the user can enter preliminary information
                                about a data story; if the HTTP method is POST, the information submitted
                                through the small form is received, managed, and stored in the config.json file.
                                With the same information, the user is redirected to the selected template
                                WYSIWYG form.</li>
                            <li><i>.route("/send_data/&lt;string:section_name>", methods=['POST', 'GET'])</i>:
                                this
                                function manages the submission of the WYSIWYG form, i.e. the data is received
                                thanks to the manage_datastory_data method, processed and stored in the
                                config.json file. With the same data, the user is redirected to the final
                                product, the page with the data story.</li>
                            <li><i>.route("/&lt;string:section_name>/&lt;string:datastory_name>")</i>: thanks to
                                the dynamic routing and the variables specified in the URL, the data story
                                template is rendered and filled with the correct data. This routing function
                                works for any available data story.</li>
                            <li><i>.route("/modify/&lt;string:section_name>/&lt;string:datastory_name>",
                                    methods=['POST', 'GET'])</i>: if the HTTP method is GET, the server renders
                                the modifiable version of the data story, the WYSIWYG form; if the HTTP method
                                is POST, the server again manages the submission of the WYSIWYG form and
                                redirects to the data story page.</li>
                        </ul>
                        <h2 id="config" class="text-lg sm:text-xl text-gray-900 font-medium title-font mb-2">The
                            Configuration File
                        </h2>
                        <p class="mb-3">The config.json file can be created almost from scratch. Ideally, when a new
                            user downloads
                            and runs the software for the first time, this file is filled with the most important
                            default information. Anything regarding data stories that can be created is filled in via
                            the setup passages provided by the web interface itself. On the server side, the
                            configuration methods shown above are responsible for receiving, processing, and storing the
                            data.</p>
                        <p class="mb-3">The config.json file contains information about:</p>
                        <ul style="list-style: inside;" class="mb-3 pl-3">
                            <li>Types of available templates and their basic properties.</li>
                            <li>Types of charts.</li>
                            <li>Types of operations.</li>
                            <li>List of data stories, organized as “section:datastory_list”.</li>
                        </ul>
                        <img src="img/config_snippet.png" alt="">
                        <p class="figcaption">A snippet from the configuration file representing data about a story.</p>
                        <p class="mb-3">In detail:</p>
                        <ul style="list-style: inside;" class="mb-3 pl-3">
                            <li>“sections” are the macro areas in which data stories can be organized. They are stored
                                as a list of strings, and are updated every time a new one is created.</li>
                            <li>“operations” are the type of actions that can be performed on data after retrieval from
                                the SPARQL endpoint. They are stored as a fixed list of strings.</li>
                            <li>“templates” stores the information about the provided template types. It is structured
                                as a dictionary that has as keys the name of each template, and as value a dictionary
                                with detailed information.</li>
                            <li>“chart_types” are the types of charts available to be visualized. They are stored as a
                                fixed list of strings.</li>
                            <li>“data_sources” contains the information about all the data stories created. It is
                                structured as a dictionary in which keys are the name of the sections, the value is a
                                dictionary that contains all the data story under a section. It is automatically updated
                                during the setup phase. Each data story has as value a dictionary that contains its
                                information, further organized.</li>
                            <li>“dynamic_elements” is a list of dictionaries. Each dictionary is a dynamic segment that
                                composes the final datastory, namely text, counts and charts. This is information that
                                the user can add during the setup phase in the WYSIWYG form.</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- footer -->
    <footer class="text-gray-600 body-font mt-6">
        <div
            class="container px-5 py-24 mx-auto flex md:items-center lg:items-start md:flex-row md:flex-nowrap flex-wrap flex-col">
            <div class="w-64 flex-shrink-0 md:mx-0 mx-auto md:text-left">
                <p class="mt-2 text-sm text-gray-500">MELODY is part of</p>
                <a href="https://polifonia-project.eu/" target="_blank">
                    <img src="../static/img/logopolifonia.svg" style="background-color: darkslategray;">
                </a>
                <p class="mt-2 text-sm text-gray-500">Polifonia has received funding from the European Union’s Horizon
                    2020 research
                    and innovation programme under grant agreement N. 101004746.</p>
            </div>
            <div class="flex-grow flex flex-wrap md:pl-20 -mb-10 md:mt-0 mt-10 md:text-left ">
                <div class="lg:w-1/2 md:w-1/2 w-full px-4">
                    <h2 class="title-font font-medium text-gray-900 tracking-widest text-sm mb-3">ABOUT MELODY</h2>
                    <nav class="list-none mb-10">
                        <li>
                            <a class="text-gray-600 hover:text-pink-800" href="https://polifonia-project.eu/"
                                target="_blank">
                                Polifonia
                            </a>
                        </li>
                        <li>
                            <a class="text-gray-600 hover:text-pink-800" href="https://projects.dharc.unibo.it/melody"
                                target="_blank">
                                Melody dashboard
                            </a>
                        </li>
                        <li>
                            <a class="text-gray-600 hover:text-pink-800" href="https://melody-data.github.io/stories/"
                                target="_blank">
                                Melody stories
                            </a>
                        </li>
                        <li>
                            <a class="text-gray-600 hover:text-pink-800"
                                href="https://github.com/polifonia-project/dashboard" target="_blank">Source code</a>
                        </li>
                    </nav>

                </div>
                <div class="lg:w-1/2 md:w-1/2 w-full px-4">
                    <h2 class="title-font font-medium text-gray-900 tracking-widest text-sm mb-3">LINKS</h2>
                    <nav class="list-none mb-10">
                        <li>
                            <a class="text-gray-600 hover:text-pink-800" href="getting_started.html">Getting
                                started</a>
                        </li>
                        <li>
                            <a class="text-gray-600 hover:text-pink-800" href="user_guide.html">User
                                Guide</a>
                        </li>
                        <li>
                            <a class="text-gray-600 hover:text-pink-800" href="documentation.html">Documentation</a>
                        </li>
                        <li>
                            <a class="text-gray-600 hover:text-pink-800"
                                href="https://melody-data.github.io/stories/#catalogue" target="_blank">Examples</a>
                        </li>
                    </nav>

                </div>
            </div>
        </div>

    </footer>

    <!-- scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>
</body>

</html>