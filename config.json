{
    "sections": [
        "Zeri",
        "Wikidata",
        "musoW"
    ],
    "operations": [
        "Count",
        "Sort"
    ],
    "templates": {
        "template_01": {
            "name": "statistics",
            "img_path": "/static/img/analytics.png",
            "default_color": [
                "#39c6b4",
                "#17cf31"
            ],
            "main_feature": "Present charts and explanations in a personalised canvas. Include bar charts, line charts, doughnut charts and more!"
        },
        "template_02": {
            "name": "maps",
            "img_path": "/static/img/map.png",
            "default_color": [
                "#6e7e3a",
                "#79f1e9"
            ],
            "main_feature": "Configure an interactive map, with filters and interactive charts on demand."
        },
        "template_03": {
            "name": "timeline",
            "img_path": "/static/img/timeline.png",
            "default_color": [
                "#0f64b9",
                "#e2df1c"
            ],
            "main_feature": "Allow users to manipulate time series data. Incrementally build line charts, bar charts, and bubble charts, by adding/removing filters - and see the chart changing!"
        },
        "template_04": {
            "name": "relations",
            "img_path": "/static/img/relations.png",
            "default_color": [
                "#0f64b9",
                "#e2df1c"
            ],
            "main_feature": "Allow users to explore a dataset from an entity and to iteratively perform actions on results of queries."
        }
    },
    "chart_types": [
        "barchart",
        "linechart",
        "doughnutchart",
        "scatterplot"
    ],
    "data_sources": {
        "musow": {
            "discover_music_data_on_the_web": {
                "iri_base": "https://w3id.org/musow/",
                "query_method": "sparql_endpoint",
                "github": "",
                "sparql_endpoint": "https://projects.dharc.unibo.it/musow/sparql",
                "rest_api": "http://127.0.0.1:8081/musow/v1",
                "color_code": [
                    "#e8b67f",
                    "#0621e0"
                ],
                "logo_path": "",
                "template_mode": "statistics",
                "section_name": "musoW",
                "title": "Discover music data on the Web",
                "subtitle": "",
                "curator": "Marilena Daquino",
                "description": "musoW is a catalogue of musical resources available on the web realized with the idea to support teachers in music education, creative industries, historians, and musicologists in finding what they need.",
                "dynamic_elements": [
                    {
                        "position": 1,
                        "type": "text",
                        "text": "The catalogue includes descriptions of several music-related web resources, with a focus on those that serve or allow users to manipulate music data in any form.",
                        "operations": []
                    },
                    {
                        "position": 2,
                        "type": "count",
                        "count_query": "SELECT (COUNT(*) AS ?count) WHERE {?s ?p <https://w3id.org/musow/vocab/repository>.}",
                        "count_label": "Repositories",
                        "operations": []
                    },
                    {
                        "position": 3,
                        "type": "count",
                        "count_query": "SELECT (COUNT(*) AS ?count) WHERE {?s ?p <https://w3id.org/musow/vocab/catalogue>.}",
                        "count_label": "Catalogues",
                        "operations": []
                    },
                    {
                        "position": 4,
                        "type": "count",
                        "count_query": "SELECT (COUNT(*) AS ?count) WHERE {?s ?p <https://w3id.org/musow/vocab/dataset>.}",
                        "count_label": "Datasets",
                        "operations": []
                    },
                    {
                        "position": 5,
                        "type": "count",
                        "count_query": "SELECT (COUNT(*) AS ?count) WHERE {?s ?p <https://w3id.org/musow/vocab/digital-library>.}",
                        "count_label": "Digital Libraries",
                        "operations": []
                    },
                    {
                        "position": 6,
                        "type": "count",
                        "count_query": "SELECT (COUNT(*) AS ?count) WHERE {?s ?p <https://w3id.org/musow/vocab/software>.}",
                        "count_label": "Software",
                        "operations": []
                    },
                    {
                        "position": 7,
                        "type": "chart",
                        "chart_type": "barchart",
                        "chart_query": "PREFIX musow: <https://w3id.org/musow/vocab/> \r\nSELECT ?label (COUNT(?content) AS ?count) \r\nWHERE { {?content ?p musow:repository . musow:repository rdfs:label ?label .} UNION {?content ?p musow:catalogue . musow:catalogue rdfs:label ?label .} UNION {?content ?p musow:dataset . musow:dataset rdfs:label ?label .} UNION {?content ?p musow:digital-library . musow:digital-library rdfs:label ?label .} UNION {?content ?p musow:software . musow:software rdfs:label ?label .} } GROUP BY ?label",
                        "chart_title": "Content Overview",
                        "operations": []
                    },
                    {
                        "position": 8,
                        "type": "chart",
                        "chart_type": "linechart",
                        "chart_query": "SELECT ?label (COUNT(?label) AS ?count) WHERE { { SELECT ?time (DAY(?time) AS ?label) WHERE { ?entry <http://www.w3.org/ns/prov#generatedAtTime> ?time . } } } GROUP BY ?label ORDER BY ?label",
                        "chart_title": "New Entries",
                        "operations": []
                    },
                    {
                        "position": 9,
                        "type": "text",
                        "text": "While collecting information about resources is important, we also focused on understanding the potential audience of the resources. We discovered that most of surveyed resources are targeted to scholars.",
                        "operations": []
                    },
                    {
                        "position": 10,
                        "type": "chart",
                        "chart_type": "doughnutchart",
                        "chart_query": "SELECT ?label WHERE { ?entry ?p <https://w3id.org/musow/vocab/repository> . ?entry <https://schema.org/audience> ?audience . ?audience rdfs:label ?label . }",
                        "chart_title": "Audience of music resources",
                        "operations": [
                            {
                                "action": "count",
                                "param": "label"
                            }
                        ]
                    }
                ],
                "action": "save"
            }
        },
        "wikidata": {
            "relations_between_museums": {
                "sparql_endpoint": "https://query.wikidata.org/bigdata/namespace/wdq/sparql",
                "template_mode": "relations",
                "title": "Relations between museums",
                "color_code": [
                    "#5904bb",
                    "#73fa79"
                ],
                "section_name": "Wikidata",
                "subtitle": "Explore relations between artists in museums",
                "description": "Search for museums, choose from the list of results, click on the buttons that appear next to the result and keep exploring relations. New tables will appear, including more actions and relations to explore.",
                "action": "save",
                "dynamic_elements": [
                    {
                        "position": 1,
                        "type": "textsearch",
                        "textsearch_title": "Search a museum",
                        "textsearch_query": "SELECT DISTINCT ?item ?itemLabel ?country ?countryLabel WHERE {\r\n  SERVICE wikibase:mwapi {\r\n      bd:serviceParam wikibase:endpoint \"www.wikidata.org\";\r\n                      wikibase:api \"EntitySearch\";\r\n                      mwapi:search \"<<searchterm>>\";\r\n                      mwapi:language \"en\".\r\n      ?item wikibase:apiOutputItem mwapi:item.\r\n  }\r\n  ?item (wdt:P279|wdt:P31) wd:Q207694 ; wdt:P17 ?country .\r\nSERVICE wikibase:label { \r\n    bd:serviceParam wikibase:language \"[AUTO_LANGUAGE],en\"\r\n  }\r\n}  LIMIT 20 ",
                        "textsearch_userinput": "orsay",
                        "operations": []
                    },
                    {
                        "position": 2,
                        "type": "tablevalueaction",
                        "tablevalueaction_title": "show similar museums",
                        "tablevalueaction_column": "item",
                        "tablevalueaction_table": "1__textsearch_query",
                        "tablevalueaction_query": "SELECT DISTINCT ?museum ?museumLabel ?place ?placeLabel\r\nWHERE { \r\n?artwork p:P276 / ps:P276 <<item>> ; wdt:P170 ?artist ; wdt:P135 wd:Q40415 .\r\n?artwork2 wdt:P170 ?artist ; p:P276 / ps:P276 ?museum .\r\n?museum  wdt:P17 ?place .\r\nSERVICE wikibase:label { \r\n    bd:serviceParam wikibase:language \"[AUTO_LANGUAGE],en\"\r\n  }\r\n}\r\nLIMIT 10",
                        "operations": []
                    },
                    {
                        "position": 3,
                        "type": "tablevalueaction",
                        "tablevalueaction_title": "show impressionists",
                        "tablevalueaction_column": "item",
                        "tablevalueaction_table": "1__textsearch_query",
                        "tablevalueaction_query": "SELECT DISTINCT ?artist ?artistLabel WHERE {\r\n  ?stmt (ps:P276 | ps:P195) <<item>> .\r\n  ?artwork (p:P276 | p:P195 | p:P217) ?stmt ; wdt:P170 ?artist .\r\n  ?artist wdt:P135 wd:Q40415 .\r\n  SERVICE wikibase:label { \r\n    bd:serviceParam wikibase:language \"[AUTO_LANGUAGE],en\"\r\n  }\r\n}\r\n",
                        "operations": []
                    },
                    {
                        "position": 4,
                        "type": "tablevalueaction",
                        "tablevalueaction_title": "show other museums in this country",
                        "tablevalueaction_column": "country",
                        "tablevalueaction_table": "1__textsearch_query",
                        "tablevalueaction_query": "SELECT DISTINCT ?other ?otherLabel \r\nWHERE { \r\n  ?other wdt:P17 <<country>>. \r\n  ?other (wdt:P279|wdt:P31) wd:Q33506.\r\nSERVICE wikibase:label { \r\n    bd:serviceParam wikibase:language \"[AUTO_LANGUAGE],en\"\r\n  }\r\n}\r\nLIMIT 10",
                        "operations": []
                    },
                    {
                        "position": 5,
                        "type": "tablevalueaction",
                        "tablevalueaction_title": "show birthplace",
                        "tablevalueaction_column": "artist",
                        "tablevalueaction_table": "3__textsearch_query",
                        "tablevalueaction_query": "SELECT ?place ?placeLabel\r\nWHERE {<<artist>> wdt:P27 ?place .\r\nSERVICE wikibase:label { \r\n    bd:serviceParam wikibase:language \"[AUTO_LANGUAGE],en\"\r\n  }\r\n}",
                        "operations": []
                    },
                    {
                        "position": 6,
                        "type": "textsearch",
                        "textsearch_title": "Search artist",
                        "textsearch_query": "SELECT DISTINCT ?item ?itemLabel ?country ?countryLabel WHERE {\r\n  SERVICE wikibase:mwapi {\r\n      bd:serviceParam wikibase:endpoint \"www.wikidata.org\";\r\n                      wikibase:api \"EntitySearch\";\r\n                      mwapi:search \"<<searchterm>>\";\r\n                      mwapi:language \"en\".\r\n      ?item wikibase:apiOutputItem mwapi:item.\r\n  }\r\n  ?item (wdt:P279|wdt:P31) wd:Q207694 ; wdt:P17 ?country .\r\nSERVICE wikibase:label { \r\n    bd:serviceParam wikibase:language \"[AUTO_LANGUAGE],en\"\r\n  }\r\n}  LIMIT 20 ",
                        "textsearch_userinput": "",
                        "operations": []
                    },
                    {
                        "position": 7,
                        "type": "tablevalueaction",
                        "tablevalueaction_title": "thingy",
                        "tablevalueaction_column": "country",
                        "tablevalueaction_table": "6__textsearch_query",
                        "tablevalueaction_query": "SELECT DISTINCT ?other ?otherLabel \r\nWHERE { \r\n  ?other wdt:P17 <<country>>. \r\n  ?other (wdt:P279|wdt:P31) wd:Q33506.\r\nSERVICE wikibase:label { \r\n    bd:serviceParam wikibase:language \"[AUTO_LANGUAGE],en\"\r\n  }\r\n}\r\nLIMIT 10",
                        "operations": []
                    },
                    {
                        "position": 8,
                        "type": "tablevalueaction",
                        "tablevalueaction_title": "shared artists",
                        "tablevalueaction_column": "museum",
                        "tablevalueaction_table": "2__textsearch_query",
                        "tablevalueaction_query": "SELECT DISTINCT ?artist ?artistLabel \r\nWHERE {\r\n?stmt (ps:P276 | ps:P195) <<item>> .\r\n ?artwork (p:P276 | p:P195 | p:P217) ?stmt ; wdt:P170 ?artist .\r\n?stmt2 (ps:P276 | ps:P195) <<museum>> .\r\n  ?artwork2 (p:P276 | p:P195 | p:P217) ?stmt2 ; wdt:P170 ?artist \r\n SERVICE wikibase:label { \r\n    bd:serviceParam wikibase:language \"[AUTO_LANGUAGE],en\"\r\n  }\r\n.} LIMIT 20",
                        "operations": []
                    }
                ],
                "curator": "Marilena Daquino"
            },
            "single_scatter_plot": {
                "sparql_endpoint": "https://query.wikidata.org/sparql",
                "template_mode": "statistics",
                "title": "Single Scatter Plot",
                "color_code": [
                    "#39c6b4",
                    "#17cf31"
                ],
                "section_name": "Tests",
                "subtitle": "",
                "description": "",
                "action": "save",
                "dynamic_elements": [
                    {
                        "position": 1,
                        "type": "chart",
                        "chart_type": "scatterplot",
                        "chart_query": "PREFIX wdt: <http://www.wikidata.org/prop/direct/>\r\nPREFIX wd: <http://www.wikidata.org/entity/>\r\nPREFIX p: <http://www.wikidata.org/prop/>\r\nPREFIX ps: <http://www.wikidata.org/prop/statement/>\r\nPREFIX pq: <http://www.wikidata.org/prop/qualifier/>\r\nSELECT DISTINCT ?y ?x WHERE {\r\n  ?item wdt:P31 wd:Q11424.\r\n  ?item p:P444 ?review_statement .\r\n  ?review_statement ps:P444 ?y .\r\n  ?review_statement pq:P447 wd:Q105584 .\r\n  ?review_statement pq:P459 wd:Q108403393 .\r\n\r\n  \r\n  ?item p:P2142 ?box_office_statement .\r\n  ?box_office_statement ps:P2142 ?x .\r\n  ?box_office_statement pq:P3005 wd:Q30 .\r\n}",
                        "chart_series": "Rotten Tomatoes",
                        "chart_title": "Films' Box Office per Review Scores",
                        "extra_queries": [],
                        "operations": []
                    }
                ]
            },
            "complex_scatter_plot": {
                "sparql_endpoint": "https://query.wikidata.org/sparql",
                "template_mode": "statistics",
                "title": "Complex Scatter Plot",
                "color_code": [
                    "#39c6b4",
                    "#cf4e17"
                ],
                "section_name": "Tests",
                "subtitle": "",
                "description": "",
                "action": "save",
                "dynamic_elements": [
                    {
                        "position": 1,
                        "type": "chart",
                        "chart_type": "scatterplot",
                        "chart_query": "PREFIX wdt: <http://www.wikidata.org/prop/direct/> PREFIX wd: <http://www.wikidata.org/entity/> PREFIX p: <http://www.wikidata.org/prop/> PREFIX ps: <http://www.wikidata.org/prop/statement/> PREFIX pq: <http://www.wikidata.org/prop/qualifier/> SELECT DISTINCT ?y ?x WHERE {?item wdt:P31 wd:Q11424. ?item p:P444 ?review_statement . ?review_statement ps:P444 ?y .  ?review_statement pq:P447 wd:Q105584 .  ?review_statement pq:P459 wd:Q108403393 .  ?item p:P2142 ?box_office_statement .  ?box_office_statement ps:P2142 ?x .  ?box_office_statement pq:P3005 wd:Q30 .}",
                        "chart_series": "USA",
                        "chart_title": "Films' Box Office per Review Scores",
                        "extra_queries": [
                            {
                                "extra_query": "PREFIX wdt: <http://www.wikidata.org/prop/direct/> PREFIX wd: <http://www.wikidata.org/entity/> PREFIX p: <http://www.wikidata.org/prop/> PREFIX ps: <http://www.wikidata.org/prop/statement/> PREFIX pq: <http://www.wikidata.org/prop/qualifier/> SELECT DISTINCT ?y ?x WHERE {?item wdt:P31 wd:Q11424. ?item p:P444 ?review_statement . ?review_statement ps:P444 ?y .  ?review_statement pq:P447 wd:Q105584 .  ?review_statement pq:P459 wd:Q108403393 .  ?item p:P2142 ?box_office_statement .  ?box_office_statement ps:P2142 ?x .  ?box_office_statement pq:P3005 wd:Q13780930 .}",
                                "extra_id": "1661461978547",
                                "extra_series": "Worldwide"
                            }
                        ],
                        "operations": []
                    }
                ],
                "curator": ""
            }
        },
        "zeri": {
            "female_portraits_": {
                "sparql_endpoint": "http://data.fondazionezeri.unibo.it/sparql",
                "template_mode": "maps",
                "title": "Female portraits ",
                "color_code": [
                    "#d357fe",
                    "#0042aa"
                ],
                "section_name": "Zeri",
                "subtitle": "All the female portraits studied by Federico Zeri",
                "curator": "",
                "description": "",
                "action": "save",
                "dynamic_elements": [
                    {
                        "position": 1,
                        "type": "map",
                        "map_title": "Female portraits over the world",
                        "map_points_query": "PREFIX crm: <http://www.cidoc-crm.org/cidoc-crm/>\r\nPREFIX fabio: <http://purl.org/spar/fabio/>\r\nPREFIX frbr: <http://purl.org/vocab/frbr/core#>\r\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\r\nPREFIX wdt: <http://www.wikidata.org/prop/direct/>\r\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\r\nPREFIX psv: <http://www.wikidata.org/prop/statement/value/>\r\nPREFIX wikibase: <http://wikiba.se/ontology#>\r\nPREFIX p: <http://www.wikidata.org/prop/>\r\nPREFIX ps: <http://www.wikidata.org/prop/statement/>\r\n \r\nSELECT DISTINCT  ?point ?artwork ?keeperLabel ?lat ?long WHERE {\r\n ?s fabio:hasSubjectTerm <https://w3id.org/zericatalog/subject/ritratto-femminile> ;\r\n    fabio:hasManifestation ?manif .\r\n ?manif frbr:exemplar ?point .\r\n  ?point crm:P50_has_current_keeper ?keeper ; rdfs:label ?artwork.\r\n  \r\n ?keeper crm:P74_has_current_or_former_residence ?location .\r\n OPTIONAL {?keeper rdfs:label ?keeperLabel}\r\n ?location owl:sameAs ?wdlocation .\r\n FILTER(LANG(?artwork) = \"\" || LANGMATCHES(LANG(?artwork), \"en\"))\r\n FILTER(LANG(?keeperLabel) = \"\" || LANGMATCHES(LANG(?keeperLabel), \"en\"))\r\n FILTER(contains (str(?wdlocation), \"wikidata\") )\r\n  SERVICE <https://query.wikidata.org/bigdata/namespace/wdq/sparql> {\r\n   ?wdlocation p:P625 ?coords_stmt .\r\n   ?coords_stmt ps:P625 ?coords;\r\n                psv:P625 [\r\n                  wikibase:geoLatitude ?lat;\r\n                  wikibase:geoLongitude ?long ] .\r\n }\r\n} LIMIT 10\r\n",
                        "extra_queries": [],
                        "operations": []
                    },
                    {
                        "position": 2,
                        "type": "map_filter",
                        "map_filter_title": "keeper",
                        "map_filter_bind_query": "1__map_points_query",
                        "map_filter_query": "PREFIX crm: <http://www.cidoc-crm.org/cidoc-crm/>\r\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\r\nSELECT DISTINCT ?point ?filter ?filterLabel\r\nWHERE {\r\n?point crm:P50_has_current_keeper ?filter .\r\n?filter rdfs:label ?filterLabel . \r\nFILTER(LANG(?filterLabel) = \"\" || LANGMATCHES(LANG(?filterLabel), \"en\"))\r\n}",
                        "extra_queries": [],
                        "operations": []
                    },
                    {
                        "position": 3,
                        "type": "map_filter",
                        "map_filter_title": "artist",
                        "map_filter_bind_query": "1__map_points_query",
                        "map_filter_query": "PREFIX crm: <http://www.cidoc-crm.org/cidoc-crm/>\r\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\r\nPREFIX frbr: <http://purl.org/vocab/frbr/core#>\r\nPREFIX fabio: <http://purl.org/spar/fabio/>\r\nSELECT DISTINCT ?point ?filter ?filterLabel\r\nWHERE {\r\n?point ^frbr:exemplar / ^fabio:hasManifestation / crm:P94i_was_created_by / crm:P14_carried_out_by  ?filter .\r\n?filter rdfs:label ?filterLabel . \r\nFILTER(LANG(?filterLabel) = \"\" || LANGMATCHES(LANG(?filterLabel), \"it\"))\r\n}",
                        "extra_queries": [],
                        "operations": []
                    },
                    {
                        "position": 4,
                        "type": "map_filter",
                        "map_filter_title": "technique",
                        "map_filter_bind_query": "1__map_points_query",
                        "map_filter_query": "PREFIX crm: <http://www.cidoc-crm.org/cidoc-crm/>\r\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\r\nSELECT DISTINCT ?point ?filter ?filterLabel\r\nWHERE {\r\n?point crm:P108i_was_produced_by ?prod .\r\n?prod crm:P32_used_general_technique ?filter .\r\n?filter rdfs:label ?filterLabel . \r\nFILTER(LANG(?filterLabel) = \"\" || LANGMATCHES(LANG(?filterLabel), \"en\"))\r\n}",
                        "extra_queries": [],
                        "operations": []
                    }
                ],
                "https://w3id.org/zericatalog/galleria-borghese-roma": "https://w3id.org/zericatalog/galleria-borghese-roma",
                "https://w3id.org/zericatalog/collezione-privata-roma": "https://w3id.org/zericatalog/collezione-privata-roma",
                "https://w3id.org/zericatalog/asta-lantonina-roma": "https://w3id.org/zericatalog/asta-lantonina-roma",
                "https://w3id.org/zericatalog/palazzo-pitti-galleria-palatina-e-appartamenti-reali-firenze": "https://w3id.org/zericatalog/palazzo-pitti-galleria-palatina-e-appartamenti-reali-firenze",
                "https://w3id.org/zericatalog/alte-pinakothek-bayerische-staatsgemaldesammlungen-monaco-di-baviera": "https://w3id.org/zericatalog/alte-pinakothek-bayerische-staatsgemaldesammlungen-monaco-di-baviera",
                "https://w3id.org/zericatalog/collezione-privata-napoli": "https://w3id.org/zericatalog/collezione-privata-napoli",
                "https://w3id.org/zericatalog/mercato-antiquario-roma": "https://w3id.org/zericatalog/mercato-antiquario-roma",
                "https://w3id.org/zericatalog/collezione-privata-firenze": "https://w3id.org/zericatalog/collezione-privata-firenze",
                "https://w3id.org/zericatalog/galleria-doria-pamphilj-roma": "https://w3id.org/zericatalog/galleria-doria-pamphilj-roma"
            }
        }
    }
}